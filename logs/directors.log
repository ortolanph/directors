2026-01-16T15:39:32.918Z  INFO 94551 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Starting DirectorsApplication using Java 17.0.16 with PID 94551 (/Users/portolan/projects/personal/directors/build/classes/java/main started by portolan in /Users/portolan/projects/personal/directors)
2026-01-16T15:39:32.921Z DEBUG 94551 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-16T15:39:32.921Z  INFO 94551 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-16T15:39:32.940Z  INFO 94551 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-16T15:39:32.941Z  INFO 94551 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-16T15:39:32.945Z  INFO 94551 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : Using Docker Compose file /Users/portolan/projects/personal/directors/compose.yaml
2026-01-16T15:39:33.545Z  INFO 94551 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : There are already Docker Compose services running, skipping startup
2026-01-16T15:39:33.875Z  INFO 94551 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-16T15:39:33.895Z  INFO 94551 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2026-01-16T15:39:33.982Z  INFO 94551 --- [Director List] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=454c124e-ab2d-3b8f-bcc1-549dd05fd580
2026-01-16T15:39:34.238Z  INFO 94551 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 9090 (http)
2026-01-16T15:39:34.244Z  INFO 94551 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-16T15:39:34.244Z  INFO 94551 --- [Director List] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-16T15:39:34.266Z  INFO 94551 --- [Director List] [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 718 ms
2026-01-16T15:39:34.520Z  INFO 94551 --- [Director List] [restartedMain] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List (PostgreSQL 18.0)
2026-01-16T15:39:34.560Z  INFO 94551 --- [Director List] [restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.015s)
2026-01-16T15:39:34.595Z  INFO 94551 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema "director_schema": 1
2026-01-16T15:39:34.602Z  INFO 94551 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema "director_schema" to version "2 - movies table"
2026-01-16T15:39:34.609Z ERROR 94551 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Migration of schema "director_schema" to version "2 - movies table" failed! Changes successfully rolled back.
2026-01-16T15:39:34.614Z  WARN 94551 --- [Director List] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/hibernate/autoconfigure/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/flyway/autoconfigure/FlywayAutoConfiguration$FlywayConfiguration.class]: Failed to execute script V2__movies_table.sql
---------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: syntax error at or near ")"
  Position: 288
Location   : db/migration/V2__movies_table.sql (/Users/portolan/projects/personal/directors/build/resources/main/db/migration/V2__movies_table.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2026-01-16T15:39:34.616Z  INFO 94551 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2026-01-16T15:39:34.621Z  INFO 94551 --- [Director List] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-16T15:39:34.626Z ERROR 94551 --- [Director List] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/hibernate/autoconfigure/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/flyway/autoconfigure/FlywayAutoConfiguration$FlywayConfiguration.class]: Failed to execute script V2__movies_table.sql
---------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: syntax error at or near ")"
  Position: 288
Location   : db/migration/V2__movies_table.sql (/Users/portolan/projects/personal/directors/build/resources/main/db/migration/V2__movies_table.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:201) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:976) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:620) ~[spring-context-7.0.2.jar:7.0.2]
	at org.springframework.boot.web.server.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-web-server-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:756) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1365) ~[spring-boot-4.0.1.jar:4.0.1]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-4.0.1.jar:4.0.1]
	at pt.pauloortolan.directors.DirectorsApplication.main(DirectorsApplication.java:16) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:52) ~[spring-boot-devtools-4.0.1.jar:4.0.1]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/flyway/autoconfigure/FlywayAutoConfiguration$FlywayConfiguration.class]: Failed to execute script V2__movies_table.sql
---------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: syntax error at or near ")"
  Position: 288
Location   : db/migration/V2__movies_table.sql (/Users/portolan/projects/personal/directors/build/resources/main/db/migration/V2__movies_table.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:603) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:525) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:333) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:371) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:331) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:196) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309) ~[spring-beans-7.0.2.jar:7.0.2]
	... 15 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Failed to execute script V2__movies_table.sql
---------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: syntax error at or near ")"
  Position: 288
Location   : db/migration/V2__movies_table.sql (/Users/portolan/projects/personal/directors/build/resources/main/db/migration/V2__movies_table.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77) ~[flyway-database-postgresql-11.14.1.jar:na]
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60) ~[flyway-database-postgresql-11.14.1.jar:na]
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60) ~[flyway-database-postgresql-11.14.1.jar:na]
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105) ~[flyway-database-postgresql-11.14.1.jar:na]
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.Flyway.lambda$migrate$3(Flyway.java:245) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:240) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.Flyway.migrate(Flyway.java:186) ~[flyway-core-11.14.1.jar:na]
	at org.springframework.boot.flyway.autoconfigure.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:67) ~[spring-boot-flyway-4.0.1.jar:4.0.1]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1864) ~[spring-beans-7.0.2.jar:7.0.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1813) ~[spring-beans-7.0.2.jar:7.0.2]
	... 22 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Failed to execute script V2__movies_table.sql
---------------------------------------------
SQL State  : 42601
Error Code : 0
Message    : ERROR: syntax error at or near ")"
  Position: 288
Location   : db/migration/V2__movies_table.sql (/Users/portolan/projects/personal/directors/build/resources/main/db/migration/V2__movies_table.sql)
Line       : 1
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:255) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:216) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:136) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391) ~[flyway-core-11.14.1.jar:na]
	... 41 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near ")"
  Position: 288
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:525) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313) ~[postgresql-42.7.8.jar:42.7.8]
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88) ~[flyway-core-11.14.1.jar:na]
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:211) ~[flyway-core-11.14.1.jar:na]
	... 47 common frames omitted

2026-01-16T15:42:42.951Z  INFO 95393 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Starting DirectorsApplication using Java 17.0.16 with PID 95393 (/Users/portolan/projects/personal/directors/build/classes/java/main started by portolan in /Users/portolan/projects/personal/directors)
2026-01-16T15:42:42.952Z DEBUG 95393 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-16T15:42:42.953Z  INFO 95393 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-16T15:42:42.982Z  INFO 95393 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-16T15:42:42.982Z  INFO 95393 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-16T15:42:42.988Z  INFO 95393 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : Using Docker Compose file /Users/portolan/projects/personal/directors/compose.yaml
2026-01-16T15:42:43.436Z  INFO 95395 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Starting DirectorsApplication using Java 17.0.16 with PID 95395 (/Users/portolan/projects/personal/directors/build/classes/java/main started by portolan in /Users/portolan/projects/personal/directors)
2026-01-16T15:42:43.438Z DEBUG 95395 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-16T15:42:43.438Z  INFO 95395 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-16T15:42:43.461Z  INFO 95395 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-16T15:42:43.461Z  INFO 95395 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-16T15:42:43.466Z  INFO 95395 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : Using Docker Compose file /Users/portolan/projects/personal/directors/compose.yaml
2026-01-16T15:42:43.516Z  INFO 95393 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : There are already Docker Compose services running, skipping startup
2026-01-16T15:42:43.827Z  INFO 95395 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : There are already Docker Compose services running, skipping startup
2026-01-16T15:42:43.885Z  INFO 95393 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-16T15:42:43.909Z  INFO 95393 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 2 JPA repository interfaces.
2026-01-16T15:42:44.014Z  INFO 95393 --- [Director List] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=454c124e-ab2d-3b8f-bcc1-549dd05fd580
2026-01-16T15:42:44.164Z  INFO 95395 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-16T15:42:44.186Z  INFO 95395 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2026-01-16T15:42:44.287Z  INFO 95395 --- [Director List] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=454c124e-ab2d-3b8f-bcc1-549dd05fd580
2026-01-16T15:42:44.299Z  INFO 95393 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 9090 (http)
2026-01-16T15:42:44.305Z  INFO 95393 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-16T15:42:44.305Z  INFO 95393 --- [Director List] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-16T15:42:44.327Z  INFO 95393 --- [Director List] [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 808 ms
2026-01-16T15:42:44.558Z  INFO 95395 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 9090 (http)
2026-01-16T15:42:44.563Z  INFO 95395 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-16T15:42:44.563Z  INFO 95395 --- [Director List] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-16T15:42:44.586Z  INFO 95395 --- [Director List] [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 756 ms
2026-01-16T15:42:44.622Z  INFO 95393 --- [Director List] [restartedMain] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List (PostgreSQL 18.0)
2026-01-16T15:42:44.661Z  INFO 95393 --- [Director List] [restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.019s)
2026-01-16T15:42:44.694Z  INFO 95393 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema "director_schema": 1
2026-01-16T15:42:44.703Z  INFO 95393 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema "director_schema" to version "2 - movies table"
2026-01-16T15:42:44.743Z  INFO 95393 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Successfully applied 1 migration to schema "director_schema", now at version v2 (execution time 00:00.029s)
2026-01-16T15:42:44.771Z  INFO 95393 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-16T15:42:44.791Z  INFO 95393 --- [Director List] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@45b2e234
2026-01-16T15:42:44.792Z  INFO 95393 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-16T15:42:44.806Z  INFO 95393 --- [Director List] [restartedMain] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-01-16T15:42:44.830Z  INFO 95393 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-16T15:42:44.846Z  INFO 95395 --- [Director List] [restartedMain] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List (PostgreSQL 18.0)
2026-01-16T15:42:44.877Z  INFO 95395 --- [Director List] [restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.014s)
2026-01-16T15:42:44.904Z  INFO 95395 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema "director_schema": 2
2026-01-16T15:42:44.906Z  INFO 95395 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Schema "director_schema" is up to date. No migration necessary.
2026-01-16T15:42:44.933Z  INFO 95395 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-16T15:42:44.955Z  INFO 95395 --- [Director List] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7ceb0b79
2026-01-16T15:42:44.955Z  INFO 95395 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-16T15:42:44.969Z  INFO 95395 --- [Director List] [restartedMain] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-01-16T15:42:44.992Z  INFO 95395 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-16T15:42:45.044Z  INFO 95393 --- [Director List] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-16T15:42:45.103Z  INFO 95393 --- [Director List] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.0
	Default catalog/schema: directors_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-16T15:42:45.213Z  INFO 95395 --- [Director List] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-16T15:42:45.261Z  INFO 95395 --- [Director List] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.0
	Default catalog/schema: directors_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-16T15:42:45.565Z  INFO 95393 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-16T15:42:45.568Z  INFO 95393 --- [Director List] [restartedMain] org.hibernate.orm.jdbc.batch             : HHH100501: Automatic JDBC statement batching enabled (maximum batch size 10)
2026-01-16T15:42:45.570Z  INFO 95393 --- [Director List] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:42:45.636Z  INFO 95393 --- [Director List] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-16T15:42:45.720Z  INFO 95395 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-16T15:42:45.722Z  INFO 95395 --- [Director List] [restartedMain] org.hibernate.orm.jdbc.batch             : HHH100501: Automatic JDBC statement batching enabled (maximum batch size 10)
2026-01-16T15:42:45.724Z  INFO 95395 --- [Director List] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:42:45.758Z  WARN 95393 --- [Director List] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-16T15:42:45.786Z  INFO 95395 --- [Director List] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-16T15:42:45.901Z  WARN 95395 --- [Director List] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-16T15:42:46.058Z DEBUG 95393 --- [Director List] [restartedMain] o.s.w.s.v.f.FreeMarkerConfigurer         : File system access not preferred: using SpringTemplateLoader
2026-01-16T15:42:46.102Z  INFO 95393 --- [Director List] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-16T15:42:46.138Z  INFO 95393 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 9090 (http) with context path '/'
2026-01-16T15:42:46.146Z  INFO 95393 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Started DirectorsApplication in 3.455 seconds (process running for 3.926)
2026-01-16T15:42:46.187Z DEBUG 95395 --- [Director List] [restartedMain] o.s.w.s.v.f.FreeMarkerConfigurer         : File system access not preferred: using SpringTemplateLoader
2026-01-16T15:42:46.228Z  INFO 95395 --- [Director List] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-16T15:42:46.258Z  WARN 95395 --- [Director List] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2026-01-16T15:42:46.260Z  INFO 95395 --- [Director List] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:42:46.261Z  INFO 95395 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-16T15:42:46.262Z  INFO 95395 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-16T15:42:46.268Z  INFO 95395 --- [Director List] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-16T15:42:46.274Z ERROR 95395 --- [Director List] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 9090 was already in use.

Action:

Identify and stop the process that's listening on port 9090 or configure this application to listen on another port.

2026-01-16T15:42:54.105Z  INFO 95393 --- [Director List] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-16T15:42:54.107Z  INFO 95393 --- [Director List] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-16T15:42:54.110Z  INFO 95393 --- [Director List] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:42:54.112Z  INFO 95393 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-16T15:42:54.112Z  INFO 95393 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-16T15:44:32.785Z  INFO 95889 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Starting DirectorsApplication using Java 17.0.16 with PID 95889 (/Users/portolan/projects/personal/directors/build/classes/java/main started by portolan in /Users/portolan/projects/personal/directors)
2026-01-16T15:44:32.786Z DEBUG 95889 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-16T15:44:32.787Z  INFO 95889 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-16T15:44:32.809Z  INFO 95889 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-16T15:44:32.809Z  INFO 95889 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-16T15:44:32.814Z  INFO 95889 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : Using Docker Compose file /Users/portolan/projects/personal/directors/compose.yaml
2026-01-16T15:44:33.300Z  INFO 95889 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : There are already Docker Compose services running, skipping startup
2026-01-16T15:44:33.647Z  INFO 95889 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-16T15:44:33.669Z  INFO 95889 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2026-01-16T15:44:33.765Z  INFO 95889 --- [Director List] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=454c124e-ab2d-3b8f-bcc1-549dd05fd580
2026-01-16T15:44:34.028Z  INFO 95889 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 9090 (http)
2026-01-16T15:44:34.034Z  INFO 95889 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-16T15:44:34.034Z  INFO 95889 --- [Director List] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-16T15:44:34.054Z  INFO 95889 --- [Director List] [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 751 ms
2026-01-16T15:44:34.326Z  INFO 95889 --- [Director List] [restartedMain] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List (PostgreSQL 18.0)
2026-01-16T15:44:34.371Z  INFO 95889 --- [Director List] [restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.018s)
2026-01-16T15:44:34.415Z  INFO 95889 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema "director_schema": 2
2026-01-16T15:44:34.417Z  INFO 95889 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Schema "director_schema" is up to date. No migration necessary.
2026-01-16T15:44:34.444Z  INFO 95889 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-16T15:44:34.466Z  INFO 95889 --- [Director List] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ab9746c
2026-01-16T15:44:34.467Z  INFO 95889 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-16T15:44:34.480Z  INFO 95889 --- [Director List] [restartedMain] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-01-16T15:44:34.504Z  INFO 95889 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-16T15:44:34.712Z  INFO 95889 --- [Director List] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-16T15:44:34.761Z  INFO 95889 --- [Director List] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.0
	Default catalog/schema: directors_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-16T15:44:35.150Z  INFO 95889 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-16T15:44:35.152Z  INFO 95889 --- [Director List] [restartedMain] org.hibernate.orm.jdbc.batch             : HHH100501: Automatic JDBC statement batching enabled (maximum batch size 10)
2026-01-16T15:44:35.154Z  INFO 95889 --- [Director List] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:44:35.205Z  INFO 95889 --- [Director List] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-16T15:44:35.304Z  WARN 95889 --- [Director List] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-16T15:44:35.565Z DEBUG 95889 --- [Director List] [restartedMain] o.s.w.s.v.f.FreeMarkerConfigurer         : File system access not preferred: using SpringTemplateLoader
2026-01-16T15:44:35.605Z  INFO 95889 --- [Director List] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-16T15:44:35.639Z  INFO 95889 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 9090 (http) with context path '/'
2026-01-16T15:44:35.647Z  INFO 95889 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Started DirectorsApplication in 3.059 seconds (process running for 3.464)
2026-01-16T15:45:28.037Z  INFO 95889 --- [Director List] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-16T15:45:28.042Z  INFO 95889 --- [Director List] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-16T15:45:28.048Z  INFO 95889 --- [Director List] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:45:28.050Z  INFO 95889 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-16T15:45:28.052Z  INFO 95889 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-16T15:45:51.082Z  INFO 96291 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Starting DirectorsApplication using Java 17.0.16 with PID 96291 (/Users/portolan/projects/personal/directors/build/classes/java/main started by portolan in /Users/portolan/projects/personal/directors)
2026-01-16T15:45:51.084Z DEBUG 96291 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-16T15:45:51.084Z  INFO 96291 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-16T15:45:51.106Z  INFO 96291 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-16T15:45:51.107Z  INFO 96291 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-16T15:45:51.112Z  INFO 96291 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : Using Docker Compose file /Users/portolan/projects/personal/directors/compose.yaml
2026-01-16T15:45:51.678Z  INFO 96291 --- [Director List] [OutputReader-stderr] o.s.boot.docker.compose.core.DockerCli   :  Network directors_guestbooknetwork  Creating
2026-01-16T15:45:51.714Z  INFO 96291 --- [Director List] [OutputReader-stderr] o.s.boot.docker.compose.core.DockerCli   :  Network directors_guestbooknetwork  Created
2026-01-16T15:45:51.715Z  INFO 96291 --- [Director List] [OutputReader-stderr] o.s.boot.docker.compose.core.DockerCli   :  Container directorsdb  Creating
2026-01-16T15:45:51.769Z  INFO 96291 --- [Director List] [OutputReader-stderr] o.s.boot.docker.compose.core.DockerCli   :  Container directorsdb  Created
2026-01-16T15:45:51.781Z  INFO 96291 --- [Director List] [OutputReader-stderr] o.s.boot.docker.compose.core.DockerCli   :  Container directorsdb  Starting
2026-01-16T15:45:52.015Z  INFO 96291 --- [Director List] [OutputReader-stderr] o.s.boot.docker.compose.core.DockerCli   :  Container directorsdb  Started
2026-01-16T15:45:52.015Z  INFO 96291 --- [Director List] [OutputReader-stderr] o.s.boot.docker.compose.core.DockerCli   :  Container directorsdb  Waiting
2026-01-16T15:45:52.517Z  INFO 96291 --- [Director List] [OutputReader-stderr] o.s.boot.docker.compose.core.DockerCli   :  Container directorsdb  Healthy
2026-01-16T15:45:54.240Z  INFO 96291 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-16T15:45:54.261Z  INFO 96291 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2026-01-16T15:45:54.356Z  INFO 96291 --- [Director List] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=454c124e-ab2d-3b8f-bcc1-549dd05fd580
2026-01-16T15:45:54.627Z  INFO 96291 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 9090 (http)
2026-01-16T15:45:54.633Z  INFO 96291 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-16T15:45:54.633Z  INFO 96291 --- [Director List] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-16T15:45:54.654Z  INFO 96291 --- [Director List] [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 762 ms
2026-01-16T15:45:54.921Z  INFO 96291 --- [Director List] [restartedMain] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List (PostgreSQL 18.0)
2026-01-16T15:45:54.959Z  INFO 96291 --- [Director List] [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory         : Schema history table "director_schema"."flyway_schema_history" does not exist yet
2026-01-16T15:45:54.961Z  INFO 96291 --- [Director List] [restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.015s)
2026-01-16T15:45:54.983Z  INFO 96291 --- [Director List] [restartedMain] o.f.c.i.s.JdbcTableSchemaHistory         : Creating Schema History table "director_schema"."flyway_schema_history" ...
2026-01-16T15:45:55.030Z  INFO 96291 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema "director_schema": << Empty Schema >>
2026-01-16T15:45:55.034Z  INFO 96291 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema "director_schema" to version "1 - directors table"
2026-01-16T15:45:55.052Z  INFO 96291 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Migrating schema "director_schema" to version "2 - movies table"
2026-01-16T15:45:55.068Z  INFO 96291 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Successfully applied 2 migrations to schema "director_schema", now at version v2 (execution time 00:00.014s)
2026-01-16T15:45:55.094Z  INFO 96291 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-16T15:45:55.109Z  INFO 96291 --- [Director List] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7f093cb2
2026-01-16T15:45:55.110Z  INFO 96291 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-16T15:45:55.123Z  INFO 96291 --- [Director List] [restartedMain] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-01-16T15:45:55.147Z  INFO 96291 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-16T15:45:55.357Z  INFO 96291 --- [Director List] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-16T15:45:55.404Z  INFO 96291 --- [Director List] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.0
	Default catalog/schema: directors_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-16T15:45:55.818Z  INFO 96291 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-16T15:45:55.823Z  INFO 96291 --- [Director List] [restartedMain] org.hibernate.orm.jdbc.batch             : HHH100501: Automatic JDBC statement batching enabled (maximum batch size 10)
2026-01-16T15:45:55.825Z  INFO 96291 --- [Director List] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:45:55.888Z  INFO 96291 --- [Director List] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-16T15:45:55.998Z  WARN 96291 --- [Director List] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-16T15:45:56.267Z DEBUG 96291 --- [Director List] [restartedMain] o.s.w.s.v.f.FreeMarkerConfigurer         : File system access not preferred: using SpringTemplateLoader
2026-01-16T15:45:56.310Z  INFO 96291 --- [Director List] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-16T15:45:56.343Z  INFO 96291 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 9090 (http) with context path '/'
2026-01-16T15:45:56.350Z  INFO 96291 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Started DirectorsApplication in 5.467 seconds (process running for 5.86)
2026-01-16T15:46:42.821Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-16T15:46:42.822Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-16T15:46:42.823Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-16T15:46:42.862Z  WARN 96291 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobOperator      : Attempting to launch job: [Directors-Job] which defines an incrementer with additional parameters: [{JobParameter{name='executionId', value=06c9977a-ff4d-40b7-aafa-3255d25c9d59, type=class java.lang.String, identifying=true},JobParameter{name='startedAt', value=1768578402841, type=class java.lang.Long, identifying=true}}]. Additional parameters will be ignored.
2026-01-16T15:46:42.862Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobOperator      : Launching next instance of job: [Directors-Job] with parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}]
2026-01-16T15:46:42.863Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] launched with the following parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}]
2026-01-16T15:46:42.866Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Director-Import-Step]
2026-01-16T15:46:43.430Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Step: [Director-Import-Step] executed in 562ms
2026-01-16T15:46:43.431Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Movie-Import-step]
2026-01-16T15:46:43.431Z DEBUG 96291 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterReader      : Reading page 0
2026-01-16T15:46:43.439Z DEBUG 96291 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterReader      : Reading page 1
2026-01-16T15:47:10.999Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Abbas Kiarostami (TMDB ID: 119294)
2026-01-16T15:47:24.384Z  INFO 96291 --- [Director List] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-16T15:47:24.521Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ana Lily Amirpour (TMDB ID: 1289604)
2026-01-16T15:47:24.818Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Agns Varda (TMDB ID: 6817)
2026-01-16T15:47:25.224Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Akira Kurosawa (TMDB ID: 5026)
2026-01-16T15:47:25.552Z  INFO 96291 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Alfred Hitchcock (TMDB ID: 2636)
2026-01-16T15:49:00.639Z  INFO 97139 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Starting DirectorsApplication using Java 17.0.16 with PID 97139 (/Users/portolan/projects/personal/directors/build/classes/java/main started by portolan in /Users/portolan/projects/personal/directors)
2026-01-16T15:49:00.641Z DEBUG 97139 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-16T15:49:00.641Z  INFO 97139 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-16T15:49:00.664Z  INFO 97139 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-16T15:49:00.665Z  INFO 97139 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-16T15:49:00.670Z  INFO 97139 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : Using Docker Compose file /Users/portolan/projects/personal/directors/compose.yaml
2026-01-16T15:49:01.156Z  INFO 97139 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : There are already Docker Compose services running, skipping startup
2026-01-16T15:49:01.509Z  INFO 97139 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-16T15:49:01.531Z  INFO 97139 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 2 JPA repository interfaces.
2026-01-16T15:49:01.628Z  INFO 97139 --- [Director List] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=454c124e-ab2d-3b8f-bcc1-549dd05fd580
2026-01-16T15:49:01.893Z  INFO 97139 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 9090 (http)
2026-01-16T15:49:01.899Z  INFO 97139 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-16T15:49:01.899Z  INFO 97139 --- [Director List] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-16T15:49:01.924Z  INFO 97139 --- [Director List] [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 765 ms
2026-01-16T15:49:02.192Z  INFO 97139 --- [Director List] [restartedMain] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List (PostgreSQL 18.0)
2026-01-16T15:49:02.229Z  INFO 97139 --- [Director List] [restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.015s)
2026-01-16T15:49:02.270Z  INFO 97139 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema "director_schema": 2
2026-01-16T15:49:02.272Z  INFO 97139 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Schema "director_schema" is up to date. No migration necessary.
2026-01-16T15:49:02.299Z  INFO 97139 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-16T15:49:02.327Z  INFO 97139 --- [Director List] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bc14644
2026-01-16T15:49:02.327Z  INFO 97139 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-16T15:49:02.340Z  INFO 97139 --- [Director List] [restartedMain] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-01-16T15:49:02.364Z  INFO 97139 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-16T15:49:02.580Z  INFO 97139 --- [Director List] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-16T15:49:02.628Z  INFO 97139 --- [Director List] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.0
	Default catalog/schema: directors_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-16T15:49:03.030Z  INFO 97139 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-16T15:49:03.032Z  INFO 97139 --- [Director List] [restartedMain] org.hibernate.orm.jdbc.batch             : HHH100501: Automatic JDBC statement batching enabled (maximum batch size 10)
2026-01-16T15:49:03.034Z  INFO 97139 --- [Director List] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:49:03.088Z  INFO 97139 --- [Director List] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-16T15:49:03.193Z  WARN 97139 --- [Director List] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-16T15:49:03.454Z DEBUG 97139 --- [Director List] [restartedMain] o.s.w.s.v.f.FreeMarkerConfigurer         : File system access not preferred: using SpringTemplateLoader
2026-01-16T15:49:03.495Z  INFO 97139 --- [Director List] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-16T15:49:03.530Z  INFO 97139 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 9090 (http) with context path '/'
2026-01-16T15:49:03.538Z  INFO 97139 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Started DirectorsApplication in 3.091 seconds (process running for 3.422)
2026-01-16T15:49:12.773Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-16T15:49:12.773Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-16T15:49:12.774Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-16T15:49:12.806Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobOperator      : Attempting to launch job: [Directors-Job] which defines an incrementer with additional parameters: [{JobParameter{name='executionId', value=1e3b656a-fdf9-4ff0-a75b-742e730cc864, type=class java.lang.String, identifying=true},JobParameter{name='startedAt', value=1768578552788, type=class java.lang.Long, identifying=true}}]. Additional parameters will be ignored.
2026-01-16T15:49:12.806Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobOperator      : Launching next instance of job: [Directors-Job] with parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}]
2026-01-16T15:49:12.807Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] launched with the following parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}]
2026-01-16T15:49:12.810Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Director-Import-Step]
2026-01-16T15:49:13.202Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Step: [Director-Import-Step] executed in 391ms
2026-01-16T15:49:13.203Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Movie-Import-step]
2026-01-16T15:49:13.203Z DEBUG 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterReader      : Reading page 0
2026-01-16T15:49:13.211Z DEBUG 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterReader      : Reading page 1
2026-01-16T15:49:17.708Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Abbas Kiarostami (TMDB ID: 119294)
2026-01-16T15:50:23.475Z  WARN 97139 --- [Director List] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s998ms).
2026-01-16T15:50:37.247Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ana Lily Amirpour (TMDB ID: 1289604)
2026-01-16T15:50:37.996Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Agns Varda (TMDB ID: 6817)
2026-01-16T15:50:38.773Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Akira Kurosawa (TMDB ID: 5026)
2026-01-16T15:50:39.619Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Alfred Hitchcock (TMDB ID: 2636)
2026-01-16T15:50:40.580Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Anna Muylaert (TMDB ID: 550280)
2026-01-16T15:50:41.436Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Andrei Tarkovsky (TMDB ID: 8452)
2026-01-16T15:50:42.242Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Anthony Russo (TMDB ID: 19271)
2026-01-16T15:50:43.090Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Apichatpong Weerasethakul (TMDB ID: 69759)
2026-01-16T15:50:43.872Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ari Aster (TMDB ID: 1145520)
2026-01-16T15:50:44.110Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:44.111Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:44.566Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Asghar Farhadi (TMDB ID: 229931)
2026-01-16T15:50:44.802Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:44.802Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:45.437Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Billy Wilder (TMDB ID: 3146)
2026-01-16T15:50:45.746Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:45.746Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:46.277Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Bong Joon-ho (TMDB ID: 21684)
2026-01-16T15:50:46.578Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:46.578Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:47.079Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Brian De Palma (TMDB ID: 1150)
2026-01-16T15:50:47.449Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:47.449Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:47.905Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Cac Diegues (TMDB ID: 112117)
2026-01-16T15:50:48.309Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:48.310Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:48.733Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Carl Theodor Dreyer (TMDB ID: 11572)
2026-01-16T15:50:48.969Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:48.969Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:49.863Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Carlos Saura (TMDB ID: 96369)
2026-01-16T15:50:50.166Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:50.167Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:51.922Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Charlie Chaplin (TMDB ID: 13848)
2026-01-16T15:50:52.339Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:52.339Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:52.567Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Chris Columbus (TMDB ID: 10965)
2026-01-16T15:50:52.867Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:50:52.868Z  WARN 97139 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:50:53.453Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Christopher Nolan (TMDB ID: 525)
2026-01-16T15:50:54.033Z ERROR 97139 --- [Director List] [http-nio-9090-exec-1] o.s.b.core.step.item.ChunkOrientedStep   : Retry exhausted after last attempt in recovery path, but exception is not skippable
2026-01-16T15:50:54.034Z ERROR 97139 --- [Director List] [http-nio-9090-exec-1] o.s.b.core.step.item.ChunkOrientedStep   : Rolling back chunk transaction

java.lang.NullPointerException: Cannot invoke "java.util.Set.add(Object)" because the return value of "pt.pauloortolan.directors.persistence.entities.Movie.getDirectors()" is null
	at pt.pauloortolan.directors.batch.directors.step2.MovieImporterWriter.write(MovieImporterWriter.java:47) ~[main/:na]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doWrite(ChunkOrientedStep.java:733) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.writeChunk(ChunkOrientedStep.java:683) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:449) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processNextChunk(ChunkOrientedStep.java:389) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.lambda$doExecute$0(ChunkOrientedStep.java:373) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doExecute(ChunkOrientedStep.java:368) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:247) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:131) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:397) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:129) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher$1.run(TaskExecutorJobLauncher.java:220) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:61) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.launchJobExecution(TaskExecutorJobLauncher.java:211) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.startNextInstance(SimpleJobOperator.java:294) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.startNextInstance(TaskExecutorJobOperator.java:133) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.start(SimpleJobOperator.java:199) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.start(TaskExecutorJobOperator.java:117) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy2/jdk.proxy2.$Proxy171.start(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.controllers.BatchController.startDirectorsJob(BatchController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-16T15:50:54.041Z ERROR 97139 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Encountered an error executing step Movie-Import-step in job Directors-Job

org.springframework.batch.core.step.FatalStepExecutionException: Unable to process chunk
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:458) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processNextChunk(ChunkOrientedStep.java:389) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.lambda$doExecute$0(ChunkOrientedStep.java:373) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doExecute(ChunkOrientedStep.java:368) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:247) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:131) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:397) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:129) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher$1.run(TaskExecutorJobLauncher.java:220) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:61) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.launchJobExecution(TaskExecutorJobLauncher.java:211) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.startNextInstance(SimpleJobOperator.java:294) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.startNextInstance(TaskExecutorJobOperator.java:133) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.start(SimpleJobOperator.java:199) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.start(TaskExecutorJobOperator.java:117) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy2/jdk.proxy2.$Proxy171.start(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.controllers.BatchController.startDirectorsJob(BatchController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.lang.NullPointerException: Cannot invoke "java.util.Set.add(Object)" because the return value of "pt.pauloortolan.directors.persistence.entities.Movie.getDirectors()" is null
	at pt.pauloortolan.directors.batch.directors.step2.MovieImporterWriter.write(MovieImporterWriter.java:47) ~[main/:na]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doWrite(ChunkOrientedStep.java:733) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.writeChunk(ChunkOrientedStep.java:683) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:449) ~[spring-batch-core-6.0.1.jar:6.0.1]
	... 80 common frames omitted

2026-01-16T15:50:54.042Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Step: [Movie-Import-step] executed in 1m40s838ms
2026-01-16T15:50:54.043Z  INFO 97139 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] completed with the following parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}] and the following status: [FAILED] in 1m41s233ms
2026-01-16T15:51:43.076Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] o.s.b.c.l.s.TaskExecutorJobOperator      : Attempting to launch job: [Directors-Job] which defines an incrementer with additional parameters: [{JobParameter{name='executionId', value=4f383b79-9f5c-4aa7-9529-40d48b271b49, type=class java.lang.String, identifying=true},JobParameter{name='startedAt', value=1768578703074, type=class java.lang.Long, identifying=true}}]. Additional parameters will be ignored.
2026-01-16T15:51:43.079Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] o.s.b.c.l.s.TaskExecutorJobOperator      : Launching next instance of job: [Directors-Job] with parameters: [{JobParameter{name='run.id', value=2, type=class java.lang.Long, identifying=true}}]
2026-01-16T15:51:43.086Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] launched with the following parameters: [{JobParameter{name='run.id', value=2, type=class java.lang.Long, identifying=true}}]
2026-01-16T15:51:43.087Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Director-Import-Step]
2026-01-16T15:51:43.261Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] o.s.batch.core.step.AbstractStep         : Step: [Director-Import-Step] executed in 173ms
2026-01-16T15:51:43.261Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Movie-Import-step]
2026-01-16T15:51:43.261Z DEBUG 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterReader      : Reading page 0
2026-01-16T15:51:43.266Z DEBUG 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterReader      : Reading page 1
2026-01-16T15:51:43.550Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Abbas Kiarostami (TMDB ID: 119294)
2026-01-16T15:51:43.837Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ana Lily Amirpour (TMDB ID: 1289604)
2026-01-16T15:51:44.062Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Agns Varda (TMDB ID: 6817)
2026-01-16T15:51:44.295Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Akira Kurosawa (TMDB ID: 5026)
2026-01-16T15:51:44.518Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Alfred Hitchcock (TMDB ID: 2636)
2026-01-16T15:51:44.744Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Anna Muylaert (TMDB ID: 550280)
2026-01-16T15:51:44.968Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Andrei Tarkovsky (TMDB ID: 8452)
2026-01-16T15:51:45.188Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Anthony Russo (TMDB ID: 19271)
2026-01-16T15:51:45.403Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Apichatpong Weerasethakul (TMDB ID: 69759)
2026-01-16T15:51:45.628Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ari Aster (TMDB ID: 1145520)
2026-01-16T15:51:45.840Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Asghar Farhadi (TMDB ID: 229931)
2026-01-16T15:51:46.059Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Billy Wilder (TMDB ID: 3146)
2026-01-16T15:51:46.286Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Bong Joon-ho (TMDB ID: 21684)
2026-01-16T15:51:46.507Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Brian De Palma (TMDB ID: 1150)
2026-01-16T15:51:46.725Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Cac Diegues (TMDB ID: 112117)
2026-01-16T15:51:46.947Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Carl Theodor Dreyer (TMDB ID: 11572)
2026-01-16T15:51:47.167Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Carlos Saura (TMDB ID: 96369)
2026-01-16T15:51:47.390Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Charlie Chaplin (TMDB ID: 13848)
2026-01-16T15:51:47.642Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Chris Columbus (TMDB ID: 10965)
2026-01-16T15:51:47.858Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Christopher Nolan (TMDB ID: 525)
2026-01-16T15:52:12.550Z  WARN 97139 --- [Director List] [HikariPool-1:housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s51ms).
2026-01-16T15:52:14.022Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:14.023Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:16.165Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:16.166Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:17.507Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:17.508Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:17.617Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:17.618Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:17.622Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:17.623Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:17.680Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:17.681Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:22.559Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:22.560Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:22.617Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:22.618Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:22.624Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:22.624Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:22.628Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:22.629Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:22.682Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:22.683Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:22.688Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:22.689Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:25.794Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:25.796Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:25.807Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:25.809Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:25.867Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 42P01
2026-01-16T15:52:25.868Z  WARN 97139 --- [Director List] [http-nio-9090-exec-3] org.hibernate.orm.jdbc.error             : ERROR: relation "director_movie" does not exist
  Position: 97
2026-01-16T15:52:51.371Z ERROR 97139 --- [Director List] [http-nio-9090-exec-3] o.s.b.core.step.item.ChunkOrientedStep   : Retry exhausted after last attempt in recovery path, but exception is not skippable
2026-01-16T15:52:51.372Z ERROR 97139 --- [Director List] [http-nio-9090-exec-3] o.s.b.core.step.item.ChunkOrientedStep   : Rolling back chunk transaction

java.lang.NullPointerException: Cannot invoke "java.util.Set.add(Object)" because the return value of "pt.pauloortolan.directors.persistence.entities.Movie.getDirectors()" is null
	at pt.pauloortolan.directors.batch.directors.step2.MovieImporterWriter.write(MovieImporterWriter.java:47) ~[main/:na]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doWrite(ChunkOrientedStep.java:733) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.writeChunk(ChunkOrientedStep.java:683) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:449) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processNextChunk(ChunkOrientedStep.java:389) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.lambda$doExecute$0(ChunkOrientedStep.java:373) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doExecute(ChunkOrientedStep.java:368) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:247) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:131) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:397) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:129) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher$1.run(TaskExecutorJobLauncher.java:220) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:61) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.launchJobExecution(TaskExecutorJobLauncher.java:211) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.startNextInstance(SimpleJobOperator.java:294) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.startNextInstance(TaskExecutorJobOperator.java:133) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.start(SimpleJobOperator.java:199) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.start(TaskExecutorJobOperator.java:117) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy2/jdk.proxy2.$Proxy171.start(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.controllers.BatchController.startDirectorsJob(BatchController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-16T15:52:51.376Z ERROR 97139 --- [Director List] [http-nio-9090-exec-3] o.s.batch.core.step.AbstractStep         : Encountered an error executing step Movie-Import-step in job Directors-Job

org.springframework.batch.core.step.FatalStepExecutionException: Unable to process chunk
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:458) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processNextChunk(ChunkOrientedStep.java:389) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.lambda$doExecute$0(ChunkOrientedStep.java:373) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doExecute(ChunkOrientedStep.java:368) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:247) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:131) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:397) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:129) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher$1.run(TaskExecutorJobLauncher.java:220) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:61) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.launchJobExecution(TaskExecutorJobLauncher.java:211) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.startNextInstance(SimpleJobOperator.java:294) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.startNextInstance(TaskExecutorJobOperator.java:133) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.start(SimpleJobOperator.java:199) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.start(TaskExecutorJobOperator.java:117) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy2/jdk.proxy2.$Proxy171.start(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.controllers.BatchController.startDirectorsJob(BatchController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.lang.NullPointerException: Cannot invoke "java.util.Set.add(Object)" because the return value of "pt.pauloortolan.directors.persistence.entities.Movie.getDirectors()" is null
	at pt.pauloortolan.directors.batch.directors.step2.MovieImporterWriter.write(MovieImporterWriter.java:47) ~[main/:na]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doWrite(ChunkOrientedStep.java:733) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.writeChunk(ChunkOrientedStep.java:683) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:449) ~[spring-batch-core-6.0.1.jar:6.0.1]
	... 80 common frames omitted

2026-01-16T15:52:51.377Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] o.s.batch.core.step.AbstractStep         : Step: [Movie-Import-step] executed in 1m8s115ms
2026-01-16T15:52:51.377Z  INFO 97139 --- [Director List] [http-nio-9090-exec-3] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] completed with the following parameters: [{JobParameter{name='run.id', value=2, type=class java.lang.Long, identifying=true}}] and the following status: [FAILED] in 1m8s290ms
2026-01-16T15:52:51.424Z  INFO 97139 --- [Director List] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-16T15:52:51.426Z  INFO 97139 --- [Director List] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-16T15:52:51.432Z  INFO 97139 --- [Director List] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T15:52:51.437Z  INFO 97139 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-16T15:52:51.438Z  INFO 97139 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-16T16:23:05.005Z  INFO 5964 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Starting DirectorsApplication using Java 17.0.16 with PID 5964 (/Users/portolan/projects/personal/directors/build/classes/java/main started by portolan in /Users/portolan/projects/personal/directors)
2026-01-16T16:23:05.006Z DEBUG 5964 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-16T16:23:05.006Z  INFO 5964 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-16T16:23:05.031Z  INFO 5964 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-16T16:23:05.031Z  INFO 5964 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-16T16:23:05.036Z  INFO 5964 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : Using Docker Compose file /Users/portolan/projects/personal/directors/compose.yaml
2026-01-16T16:23:05.534Z  INFO 5964 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : There are already Docker Compose services running, skipping startup
2026-01-16T16:23:05.893Z  INFO 5964 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-16T16:23:05.915Z  INFO 5964 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 2 JPA repository interfaces.
2026-01-16T16:23:06.019Z  INFO 5964 --- [Director List] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=454c124e-ab2d-3b8f-bcc1-549dd05fd580
2026-01-16T16:23:06.294Z  INFO 5964 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 9090 (http)
2026-01-16T16:23:06.301Z  INFO 5964 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-16T16:23:06.301Z  INFO 5964 --- [Director List] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-16T16:23:06.321Z  INFO 5964 --- [Director List] [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 783 ms
2026-01-16T16:23:06.606Z  INFO 5964 --- [Director List] [restartedMain] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List (PostgreSQL 18.0)
2026-01-16T16:23:06.648Z  INFO 5964 --- [Director List] [restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.015s)
2026-01-16T16:23:06.686Z  INFO 5964 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema "director_schema": 2
2026-01-16T16:23:06.688Z  INFO 5964 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Schema "director_schema" is up to date. No migration necessary.
2026-01-16T16:23:06.718Z  INFO 5964 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-16T16:23:06.741Z  INFO 5964 --- [Director List] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@56d588d4
2026-01-16T16:23:06.742Z  INFO 5964 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-16T16:23:06.757Z  INFO 5964 --- [Director List] [restartedMain] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-01-16T16:23:06.787Z  INFO 5964 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-16T16:23:07.003Z  INFO 5964 --- [Director List] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-16T16:23:07.050Z  INFO 5964 --- [Director List] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.0
	Default catalog/schema: directors_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-16T16:23:07.475Z  INFO 5964 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-16T16:23:07.477Z  INFO 5964 --- [Director List] [restartedMain] org.hibernate.orm.jdbc.batch             : HHH100501: Automatic JDBC statement batching enabled (maximum batch size 10)
2026-01-16T16:23:07.479Z  INFO 5964 --- [Director List] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T16:23:07.533Z  INFO 5964 --- [Director List] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-16T16:23:07.638Z  WARN 5964 --- [Director List] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-16T16:23:07.904Z DEBUG 5964 --- [Director List] [restartedMain] o.s.w.s.v.f.FreeMarkerConfigurer         : File system access not preferred: using SpringTemplateLoader
2026-01-16T16:23:07.946Z  INFO 5964 --- [Director List] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-16T16:23:07.980Z  INFO 5964 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 9090 (http) with context path '/'
2026-01-16T16:23:07.988Z  INFO 5964 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Started DirectorsApplication in 3.234 seconds (process running for 3.662)
2026-01-16T16:23:17.827Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-16T16:23:17.827Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-16T16:23:17.828Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-16T16:23:17.866Z  WARN 5964 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobOperator      : Attempting to launch job: [Directors-Job] which defines an incrementer with additional parameters: [{JobParameter{name='executionId', value=e9291c62-8856-44fc-9815-33a0995cd9a6, type=class java.lang.String, identifying=true},JobParameter{name='startedAt', value=1768580597845, type=class java.lang.Long, identifying=true}}]. Additional parameters will be ignored.
2026-01-16T16:23:17.867Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobOperator      : Launching next instance of job: [Directors-Job] with parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}]
2026-01-16T16:23:17.867Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] launched with the following parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}]
2026-01-16T16:23:17.870Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Director-Import-Step]
2026-01-16T16:23:18.273Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Step: [Director-Import-Step] executed in 401ms
2026-01-16T16:23:18.273Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Movie-Import-step]
2026-01-16T16:23:18.274Z DEBUG 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterReader      : Reading page 0
2026-01-16T16:23:18.282Z DEBUG 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterReader      : Reading page 1
2026-01-16T16:23:18.722Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Abbas Kiarostami (TMDB ID: 119294)
2026-01-16T16:23:18.986Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ana Lily Amirpour (TMDB ID: 1289604)
2026-01-16T16:23:19.183Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Agns Varda (TMDB ID: 6817)
2026-01-16T16:23:19.401Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Akira Kurosawa (TMDB ID: 5026)
2026-01-16T16:23:19.605Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Alfred Hitchcock (TMDB ID: 2636)
2026-01-16T16:23:19.805Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Anna Muylaert (TMDB ID: 550280)
2026-01-16T16:23:20.001Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Andrei Tarkovsky (TMDB ID: 8452)
2026-01-16T16:23:20.196Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Anthony Russo (TMDB ID: 19271)
2026-01-16T16:23:20.387Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Apichatpong Weerasethakul (TMDB ID: 69759)
2026-01-16T16:23:20.590Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ari Aster (TMDB ID: 1145520)
2026-01-16T16:23:20.783Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Asghar Farhadi (TMDB ID: 229931)
2026-01-16T16:23:20.979Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Billy Wilder (TMDB ID: 3146)
2026-01-16T16:23:21.173Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Bong Joon-ho (TMDB ID: 21684)
2026-01-16T16:23:21.363Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Brian De Palma (TMDB ID: 1150)
2026-01-16T16:23:21.564Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Cac Diegues (TMDB ID: 112117)
2026-01-16T16:23:21.766Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Carl Theodor Dreyer (TMDB ID: 11572)
2026-01-16T16:23:21.962Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Carlos Saura (TMDB ID: 96369)
2026-01-16T16:23:22.159Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Charlie Chaplin (TMDB ID: 13848)
2026-01-16T16:23:22.370Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Chris Columbus (TMDB ID: 10965)
2026-01-16T16:23:22.670Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Christopher Nolan (TMDB ID: 525)
2026-01-16T16:23:48.184Z ERROR 5964 --- [Director List] [http-nio-9090-exec-1] o.s.b.core.step.item.ChunkOrientedStep   : Retry exhausted after last attempt in recovery path, but exception is not skippable
2026-01-16T16:23:48.187Z ERROR 5964 --- [Director List] [http-nio-9090-exec-1] o.s.b.core.step.item.ChunkOrientedStep   : Rolling back chunk transaction

java.lang.NullPointerException: Cannot invoke "java.util.Set.add(Object)" because the return value of "pt.pauloortolan.directors.persistence.entities.Movie.getDirectors()" is null
	at pt.pauloortolan.directors.batch.directors.step2.MovieImporterWriter.write(MovieImporterWriter.java:47) ~[main/:na]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doWrite(ChunkOrientedStep.java:733) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.writeChunk(ChunkOrientedStep.java:683) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:449) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processNextChunk(ChunkOrientedStep.java:389) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.lambda$doExecute$0(ChunkOrientedStep.java:373) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doExecute(ChunkOrientedStep.java:368) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:247) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:131) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:397) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:129) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher$1.run(TaskExecutorJobLauncher.java:220) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:61) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.launchJobExecution(TaskExecutorJobLauncher.java:211) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.startNextInstance(SimpleJobOperator.java:294) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.startNextInstance(TaskExecutorJobOperator.java:133) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.start(SimpleJobOperator.java:199) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.start(TaskExecutorJobOperator.java:117) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy2/jdk.proxy2.$Proxy171.start(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.controllers.BatchController.startDirectorsJob(BatchController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2026-01-16T16:23:48.200Z ERROR 5964 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Encountered an error executing step Movie-Import-step in job Directors-Job

org.springframework.batch.core.step.FatalStepExecutionException: Unable to process chunk
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:458) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processNextChunk(ChunkOrientedStep.java:389) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.lambda$doExecute$0(ChunkOrientedStep.java:373) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doExecute(ChunkOrientedStep.java:368) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:247) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:131) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:397) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:129) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher$1.run(TaskExecutorJobLauncher.java:220) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:61) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.launchJobExecution(TaskExecutorJobLauncher.java:211) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.startNextInstance(SimpleJobOperator.java:294) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.startNextInstance(TaskExecutorJobOperator.java:133) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.start(SimpleJobOperator.java:199) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.start(TaskExecutorJobOperator.java:117) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy2/jdk.proxy2.$Proxy171.start(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.controllers.BatchController.startDirectorsJob(BatchController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: java.lang.NullPointerException: Cannot invoke "java.util.Set.add(Object)" because the return value of "pt.pauloortolan.directors.persistence.entities.Movie.getDirectors()" is null
	at pt.pauloortolan.directors.batch.directors.step2.MovieImporterWriter.write(MovieImporterWriter.java:47) ~[main/:na]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doWrite(ChunkOrientedStep.java:733) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.writeChunk(ChunkOrientedStep.java:683) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:449) ~[spring-batch-core-6.0.1.jar:6.0.1]
	... 80 common frames omitted

2026-01-16T16:23:48.201Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Step: [Movie-Import-step] executed in 29s927ms
2026-01-16T16:23:48.202Z  INFO 5964 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] completed with the following parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}] and the following status: [FAILED] in 30s332ms
2026-01-16T16:24:24.399Z  INFO 5964 --- [Director List] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-16T16:24:24.400Z  INFO 5964 --- [Director List] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-16T16:24:24.404Z  INFO 5964 --- [Director List] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T16:24:24.406Z  INFO 5964 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-16T16:24:24.407Z  INFO 5964 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2026-01-16T16:26:44.514Z  INFO 6894 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Starting DirectorsApplication using Java 17.0.16 with PID 6894 (/Users/portolan/projects/personal/directors/build/classes/java/main started by portolan in /Users/portolan/projects/personal/directors)
2026-01-16T16:26:44.515Z DEBUG 6894 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Running with Spring Boot v4.0.1, Spring v7.0.2
2026-01-16T16:26:44.516Z  INFO 6894 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : No active profile set, falling back to 1 default profile: "default"
2026-01-16T16:26:44.540Z  INFO 6894 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2026-01-16T16:26:44.540Z  INFO 6894 --- [Director List] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2026-01-16T16:26:44.546Z  INFO 6894 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : Using Docker Compose file /Users/portolan/projects/personal/directors/compose.yaml
2026-01-16T16:26:45.073Z  INFO 6894 --- [Director List] [restartedMain] .s.b.d.c.l.DockerComposeLifecycleManager : There are already Docker Compose services running, skipping startup
2026-01-16T16:26:45.546Z  INFO 6894 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2026-01-16T16:26:45.574Z  INFO 6894 --- [Director List] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 2 JPA repository interfaces.
2026-01-16T16:26:45.692Z  INFO 6894 --- [Director List] [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=454c124e-ab2d-3b8f-bcc1-549dd05fd580
2026-01-16T16:26:45.964Z  INFO 6894 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat initialized with port 9090 (http)
2026-01-16T16:26:45.969Z  INFO 6894 --- [Director List] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2026-01-16T16:26:45.970Z  INFO 6894 --- [Director List] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/11.0.15]
2026-01-16T16:26:45.990Z  INFO 6894 --- [Director List] [restartedMain] b.w.c.s.WebApplicationContextInitializer : Root WebApplicationContext: initialization completed in 913 ms
2026-01-16T16:26:46.335Z  INFO 6894 --- [Director List] [restartedMain] org.flywaydb.core.FlywayExecutor         : Database: jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List (PostgreSQL 18.0)
2026-01-16T16:26:46.376Z  INFO 6894 --- [Director List] [restartedMain] o.f.core.internal.command.DbValidate     : Successfully validated 2 migrations (execution time 00:00.017s)
2026-01-16T16:26:46.419Z  INFO 6894 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Current version of schema "director_schema": 2
2026-01-16T16:26:46.421Z  INFO 6894 --- [Director List] [restartedMain] o.f.core.internal.command.DbMigrate      : Schema "director_schema" is up to date. No migration necessary.
2026-01-16T16:26:46.448Z  INFO 6894 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2026-01-16T16:26:46.477Z  INFO 6894 --- [Director List] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5aa813d0
2026-01-16T16:26:46.479Z  INFO 6894 --- [Director List] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2026-01-16T16:26:46.496Z  INFO 6894 --- [Director List] [restartedMain] org.hibernate.orm.jpa                    : HHH008540: Processing PersistenceUnitInfo [name: default]
2026-01-16T16:26:46.526Z  INFO 6894 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000001: Hibernate ORM core version 7.2.0.Final
2026-01-16T16:26:46.736Z  INFO 6894 --- [Director List] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2026-01-16T16:26:46.785Z  INFO 6894 --- [Director List] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [jdbc:postgresql://127.0.0.1:9091/directors_db?ApplicationName=Director+List]
	Database driver: PostgreSQL JDBC Driver
	Database dialect: PostgreSQLDialect
	Database version: 18.0
	Default catalog/schema: directors_db/public
	Autocommit mode: undefined/unknown
	Isolation level: READ_COMMITTED [default READ_COMMITTED]
	JDBC fetch size: none
	Pool: DataSourceConnectionProvider
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2026-01-16T16:26:47.190Z  INFO 6894 --- [Director List] [restartedMain] org.hibernate.orm.core                   : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2026-01-16T16:26:47.192Z  INFO 6894 --- [Director List] [restartedMain] org.hibernate.orm.jdbc.batch             : HHH100501: Automatic JDBC statement batching enabled (maximum batch size 10)
2026-01-16T16:26:47.193Z  INFO 6894 --- [Director List] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T16:26:47.249Z  INFO 6894 --- [Director List] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactories   : Hibernate is in classpath; If applicable, HQL parser will be used.
2026-01-16T16:26:47.356Z  WARN 6894 --- [Director List] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2026-01-16T16:26:47.637Z DEBUG 6894 --- [Director List] [restartedMain] o.s.w.s.v.f.FreeMarkerConfigurer         : File system access not preferred: using SpringTemplateLoader
2026-01-16T16:26:47.683Z  INFO 6894 --- [Director List] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2026-01-16T16:26:47.722Z  INFO 6894 --- [Director List] [restartedMain] o.s.boot.tomcat.TomcatWebServer          : Tomcat started on port 9090 (http) with context path '/'
2026-01-16T16:26:47.730Z  INFO 6894 --- [Director List] [restartedMain] p.p.directors.DirectorsApplication       : Started DirectorsApplication in 3.416 seconds (process running for 3.747)
2026-01-16T16:27:04.326Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-16T16:27:04.327Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2026-01-16T16:27:04.328Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2026-01-16T16:27:04.361Z  WARN 6894 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobOperator      : Attempting to launch job: [Directors-Job] which defines an incrementer with additional parameters: [{JobParameter{name='executionId', value=c5e8e7d7-7213-4eda-8790-a2795ed1d871, type=class java.lang.String, identifying=true},JobParameter{name='startedAt', value=1768580824344, type=class java.lang.Long, identifying=true}}]. Additional parameters will be ignored.
2026-01-16T16:27:04.362Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobOperator      : Launching next instance of job: [Directors-Job] with parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}]
2026-01-16T16:27:04.362Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] launched with the following parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}]
2026-01-16T16:27:04.365Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Director-Import-Step]
2026-01-16T16:27:04.800Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Step: [Director-Import-Step] executed in 432ms
2026-01-16T16:27:04.800Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.job.SimpleStepHandler     : Executing step: [Movie-Import-step]
2026-01-16T16:27:04.800Z DEBUG 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterReader      : Reading page 0
2026-01-16T16:27:04.813Z DEBUG 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterReader      : Reading page 1
2026-01-16T16:27:05.241Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Abbas Kiarostami (TMDB ID: 119294)
2026-01-16T16:27:05.494Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ana Lily Amirpour (TMDB ID: 1289604)
2026-01-16T16:27:05.687Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Agns Varda (TMDB ID: 6817)
2026-01-16T16:27:05.906Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Akira Kurosawa (TMDB ID: 5026)
2026-01-16T16:27:06.101Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Alfred Hitchcock (TMDB ID: 2636)
2026-01-16T16:27:06.298Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Anna Muylaert (TMDB ID: 550280)
2026-01-16T16:27:06.487Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Andrei Tarkovsky (TMDB ID: 8452)
2026-01-16T16:27:06.675Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Anthony Russo (TMDB ID: 19271)
2026-01-16T16:27:06.863Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Apichatpong Weerasethakul (TMDB ID: 69759)
2026-01-16T16:27:07.083Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Ari Aster (TMDB ID: 1145520)
2026-01-16T16:27:07.269Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Asghar Farhadi (TMDB ID: 229931)
2026-01-16T16:27:07.453Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Billy Wilder (TMDB ID: 3146)
2026-01-16T16:27:07.650Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Bong Joon-ho (TMDB ID: 21684)
2026-01-16T16:27:07.837Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Brian De Palma (TMDB ID: 1150)
2026-01-16T16:27:08.033Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Cac Diegues (TMDB ID: 112117)
2026-01-16T16:27:08.231Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Carl Theodor Dreyer (TMDB ID: 11572)
2026-01-16T16:27:08.437Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Carlos Saura (TMDB ID: 96369)
2026-01-16T16:27:08.630Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Charlie Chaplin (TMDB ID: 13848)
2026-01-16T16:27:08.840Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Chris Columbus (TMDB ID: 10965)
2026-01-16T16:27:09.033Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] p.p.d.b.d.step2.MovieImporterProcessor   : Getting movie credits for director Christopher Nolan (TMDB ID: 525)
2026-01-16T16:27:34.299Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.batch             : HHH100503: JDBC batch still contained JDBC statements on release
2026-01-16T16:27:34.308Z  WARN 6894 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 23502
2026-01-16T16:27:34.309Z  WARN 6894 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : Batch entry 0 insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (('/m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg'),(NULL),('Close-Up'),('30017'::int4),('182ed359-12a9-4081-b24a-e6fe46131499'::uuid)) was aborted: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).  Call getNextException to see other errors in the batch.
2026-01-16T16:27:34.309Z  WARN 6894 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : HHH000247: ErrorCode: 0, SQLState: 23502
2026-01-16T16:27:34.310Z  WARN 6894 --- [Director List] [http-nio-9090-exec-1] org.hibernate.orm.jdbc.error             : Batch entry 0 insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (('/m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg'),(NULL),('Close-Up'),('30017'::int4),('182ed359-12a9-4081-b24a-e6fe46131499'::uuid)) was aborted: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).  Call getNextException to see other errors in the batch.
2026-01-16T16:27:35.757Z ERROR 6894 --- [Director List] [http-nio-9090-exec-1] o.s.b.core.step.item.ChunkOrientedStep   : Retry exhausted after last attempt in recovery path, but exception is not skippable
2026-01-16T16:27:35.760Z ERROR 6894 --- [Director List] [http-nio-9090-exec-1] o.s.b.core.step.item.ChunkOrientedStep   : Rolling back chunk transaction

org.springframework.dao.DataIntegrityViolationException: could not execute batch [Batch entry 0 insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (('/m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg'),(NULL),('Close-Up'),('30017'::int4),('182ed359-12a9-4081-b24a-e6fe46131499'::uuid)) was aborted: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).  Call getNextException to see other errors in the batch.] [insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (?,?,?,?,?)]; SQL [insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (?,?,?,?,?)]; constraint [director_id]
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:169) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:105) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:557) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:794) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:757) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:684) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:406) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166) ~[spring-data-jpa-4.0.1.jar:4.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy4/jdk.proxy4.$Proxy170.save(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.services.MovieService.save(MovieService.java:23) ~[main/:na]
	at pt.pauloortolan.directors.batch.directors.step2.MovieImporterWriter.write(MovieImporterWriter.java:51) ~[main/:na]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doWrite(ChunkOrientedStep.java:733) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.writeChunk(ChunkOrientedStep.java:683) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:449) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processNextChunk(ChunkOrientedStep.java:389) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.lambda$doExecute$0(ChunkOrientedStep.java:373) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doExecute(ChunkOrientedStep.java:368) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:247) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:131) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:397) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:129) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher$1.run(TaskExecutorJobLauncher.java:220) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:61) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.launchJobExecution(TaskExecutorJobLauncher.java:211) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.startNextInstance(SimpleJobOperator.java:294) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.startNextInstance(TaskExecutorJobOperator.java:133) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.start(SimpleJobOperator.java:199) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.start(TaskExecutorJobOperator.java:117) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy2/jdk.proxy2.$Proxy171.start(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.controllers.BatchController.startDirectorsJob(BatchController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute batch [Batch entry 0 insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (('/m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg'),(NULL),('Close-Up'),('30017'::int4),('182ed359-12a9-4081-b24a-e6fe46131499'::uuid)) was aborted: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).  Call getNextException to see other errors in the batch.] [insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:73) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.lambda$performExecution$0(BatchImpl.java:270) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.mutation.internal.PreparedStatementGroupSingleTable.forEachStatement(PreparedStatementGroupSingleTable.java:63) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.performExecution(BatchImpl.java:245) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.execute(BatchImpl.java:224) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:194) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:658) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:505) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:381) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.internal.SessionImpl.fireFlush(SessionImpl.java:1489) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:481) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2116) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2038) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:410) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:166) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commitNoRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:248) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:242) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:89) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:553) ~[spring-orm-7.0.2.jar:7.0.2]
	... 97 common frames omitted
Caused by: java.sql.BatchUpdateException: Batch entry 0 insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (('/m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg'),(NULL),('Close-Up'),('30017'::int4),('182ed359-12a9-4081-b24a-e6fe46131499'::uuid)) was aborted: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).  Call getNextException to see other errors in the batch.
	at org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:165) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.ResultHandlerDelegate.handleError(ResultHandlerDelegate.java:52) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2422) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:580) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:891) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:915) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1778) ~[postgresql-42.7.8.jar:42.7.8]
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java) ~[HikariCP-7.0.2.jar:na]
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.lambda$performExecution$0(BatchImpl.java:256) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	... 116 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.8.jar:42.7.8]
	... 123 common frames omitted

2026-01-16T16:27:35.774Z ERROR 6894 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Encountered an error executing step Movie-Import-step in job Directors-Job

org.springframework.batch.core.step.FatalStepExecutionException: Unable to process chunk
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:458) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processNextChunk(ChunkOrientedStep.java:389) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.lambda$doExecute$0(ChunkOrientedStep.java:373) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doExecute(ChunkOrientedStep.java:368) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:247) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:131) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:397) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:129) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:293) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher$1.run(TaskExecutorJobLauncher.java:220) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:61) ~[spring-core-7.0.2.jar:7.0.2]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.launchJobExecution(TaskExecutorJobLauncher.java:211) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:109) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.startNextInstance(SimpleJobOperator.java:294) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.startNextInstance(TaskExecutorJobOperator.java:133) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.SimpleJobOperator.start(SimpleJobOperator.java:199) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.launch.support.TaskExecutorJobOperator.start(TaskExecutorJobOperator.java:117) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:158) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:370) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy2/jdk.proxy2.$Proxy171.start(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.controllers.BatchController.startDirectorsJob(BatchController.java:33) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:569) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:190) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:934) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:853) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:86) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:866) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:892) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:874) ~[spring-webmvc-7.0.2.jar:7.0.2]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:710) ~[tomcat-embed-core-11.0.15.jar:6.1]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:128) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:199) ~[spring-web-7.0.2.jar:7.0.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-7.0.2.jar:7.0.2]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:107) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:77) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1778) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:946) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:480) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:57) ~[tomcat-embed-core-11.0.15.jar:11.0.15]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute batch [Batch entry 0 insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (('/m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg'),(NULL),('Close-Up'),('30017'::int4),('182ed359-12a9-4081-b24a-e6fe46131499'::uuid)) was aborted: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).  Call getNextException to see other errors in the batch.] [insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (?,?,?,?,?)]; SQL [insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (?,?,?,?,?)]; constraint [director_id]
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:169) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.convertHibernateAccessException(HibernateExceptionTranslator.java:131) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.orm.jpa.hibernate.HibernateExceptionTranslator.translateExceptionIfPossible(HibernateExceptionTranslator.java:105) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:199) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:557) ~[spring-orm-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:794) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:757) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:684) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:406) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:118) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:135) ~[spring-tx-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:166) ~[spring-data-jpa-4.0.1.jar:4.0.1]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-7.0.2.jar:7.0.2]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:222) ~[spring-aop-7.0.2.jar:7.0.2]
	at jdk.proxy4/jdk.proxy4.$Proxy170.save(Unknown Source) ~[na:na]
	at pt.pauloortolan.directors.services.MovieService.save(MovieService.java:23) ~[main/:na]
	at pt.pauloortolan.directors.batch.directors.step2.MovieImporterWriter.write(MovieImporterWriter.java:51) ~[main/:na]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.doWrite(ChunkOrientedStep.java:733) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.writeChunk(ChunkOrientedStep.java:683) ~[spring-batch-core-6.0.1.jar:6.0.1]
	at org.springframework.batch.core.step.item.ChunkOrientedStep.processChunkSequentially(ChunkOrientedStep.java:449) ~[spring-batch-core-6.0.1.jar:6.0.1]
	... 80 common frames omitted
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute batch [Batch entry 0 insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (('/m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg'),(NULL),('Close-Up'),('30017'::int4),('182ed359-12a9-4081-b24a-e6fe46131499'::uuid)) was aborted: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).  Call getNextException to see other errors in the batch.] [insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:73) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:34) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:115) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.lambda$performExecution$0(BatchImpl.java:270) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.mutation.internal.PreparedStatementGroupSingleTable.forEachStatement(PreparedStatementGroupSingleTable.java:63) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.performExecution(BatchImpl.java:245) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.execute(BatchImpl.java:224) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:194) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:658) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:505) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:381) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:138) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.internal.SessionImpl.fireFlush(SessionImpl.java:1489) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:481) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2116) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2038) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:410) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:166) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commitNoRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:248) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:242) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:89) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:553) ~[spring-orm-7.0.2.jar:7.0.2]
	... 97 common frames omitted
Caused by: java.sql.BatchUpdateException: Batch entry 0 insert into director_schema.movie (poster_path,release_date,title,tmdb_id,id) values (('/m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg'),(NULL),('Close-Up'),('30017'::int4),('182ed359-12a9-4081-b24a-e6fe46131499'::uuid)) was aborted: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).  Call getNextException to see other errors in the batch.
	at org.postgresql.jdbc.BatchResultHandler.handleError(BatchResultHandler.java:165) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.ResultHandlerDelegate.handleError(ResultHandlerDelegate.java:52) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2422) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:580) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:891) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:915) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1778) ~[postgresql-42.7.8.jar:42.7.8]
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128) ~[HikariCP-7.0.2.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java) ~[HikariCP-7.0.2.jar:na]
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.lambda$performExecution$0(BatchImpl.java:256) ~[hibernate-core-7.2.0.Final.jar:7.2.0.Final]
	... 116 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "director_id" of relation "movie" violates not-null constraint
  Detail: Failing row contains (182ed359-12a9-4081-b24a-e6fe46131499, null, 30017, Close-Up, null, /m9HG2N9ZKCmNN9qOHJTNyy18wn3.jpg).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2736) ~[postgresql-42.7.8.jar:42.7.8]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.8.jar:42.7.8]
	... 123 common frames omitted

2026-01-16T16:27:35.776Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.batch.core.step.AbstractStep         : Step: [Movie-Import-step] executed in 30s975ms
2026-01-16T16:27:35.777Z  INFO 6894 --- [Director List] [http-nio-9090-exec-1] o.s.b.c.l.s.TaskExecutorJobLauncher      : Job: [SimpleJob: [name=Directors-Job]] completed with the following parameters: [{JobParameter{name='run.id', value=1, type=class java.lang.Long, identifying=true}}] and the following status: [FAILED] in 31s411ms
2026-01-16T16:27:55.095Z  INFO 6894 --- [Director List] [SpringApplicationShutdownHook] o.s.boot.tomcat.GracefulShutdown         : Commencing graceful shutdown. Waiting for active requests to complete
2026-01-16T16:27:55.098Z  INFO 6894 --- [Director List] [tomcat-shutdown] o.s.boot.tomcat.GracefulShutdown         : Graceful shutdown complete
2026-01-16T16:27:55.102Z  INFO 6894 --- [Director List] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2026-01-16T16:27:55.105Z  INFO 6894 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2026-01-16T16:27:55.106Z  INFO 6894 --- [Director List] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
